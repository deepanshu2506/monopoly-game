(this["webpackJsonpmonopoly-game"]=this["webpackJsonpmonopoly-game"]||[]).push([[0],{37:function(e,t,a){e.exports=a.p+"static/media/dice1.38ba986b.svg"},38:function(e,t,a){e.exports=a.p+"static/media/dice2.00410b66.svg"},39:function(e,t,a){e.exports=a.p+"static/media/dice3.cf305e27.svg"},40:function(e,t,a){e.exports=a.p+"static/media/dice4.3e176afc.svg"},41:function(e,t,a){e.exports=a.p+"static/media/dice5.2180d6cc.svg"},42:function(e,t,a){e.exports=a.p+"static/media/dice6.33196269.svg"},43:function(e,t,a){e.exports=a.p+"static/media/cancel.c907543c.svg"},44:function(e,t,a){e.exports=a.p+"static/media/red-pawn.ac22cd1d.svg"},45:function(e,t,a){e.exports=a.p+"static/media/green-pawn.6431d991.svg"},46:function(e,t,a){e.exports=a.p+"static/media/blue-pawn.938a079d.svg"},47:function(e,t,a){e.exports=a.p+"static/media/yellow-pawn.79c0497f.svg"},48:function(e,t,a){e.exports=a.p+"static/media/buyicon.9976f91a.svg"},52:function(e,t,a){e.exports=a(88)},57:function(e,t,a){},58:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),l=a.n(s),o=a(23),i=(a(57),a(6)),c=a(7),m=a(9),p=a(8),d=a(10),y=a(16),u=a(4),h=(a(58),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={gameIdDisplay:!0},a.gameIDShow=a.gameIDShow.bind(Object(u.a)(a)),a.loadGame=a.loadGame.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"gameIDShow",value:function(){this.setState({gameIdDisplay:!1})}},{key:"loadGame",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{class:"login-container"},r.a.createElement("span",{class:"gameName"}," Monopoly Game"),r.a.createElement("button",{class:"newGameBtn"},"New Game"),r.a.createElement("br",null),r.a.createElement("button",{class:"loadGameBtn",onClick:this.gameIDShow},"Load Game"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.loadGame},r.a.createElement("input",{class:"IDField",id:"gameID",hidden:this.state.gameIdDisplay,type:"text",name:"gameId",value:"",placeholder:"Enter Game ID"})))}}]),t}(r.a.Component)),b=a(51),E=a(15),O=a.n(E),P=a(18),g=a(2),v=a(19),f=a.n(v),C=a(20),T=a.n(C),N=(a(78),a(37)),w=a.n(N),k=a(38),S=a.n(k),M=a(39),R=a.n(M),I=a(40),G=a.n(I),B=a(41),A=a.n(B),j=a(42),x=a.n(j),Y={1:w.a,2:S.a,3:R.a,4:G.a,5:A.a,6:x.a},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={diceState:{dice1:Y[1],dice2:Y[2]}},a.rollDice=a.rollDice.bind(Object(u.a)(a)),a.once=!0,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"rollDice",value:function(){var e=Math.floor(6*Math.random())+1,t=Math.floor(6*Math.random())+1;this.setState({modalIsOpen:!0}),this.setState({diceState:{dice1:Y[e],dice2:Y[t]}}),this.props.movePawn(this.props.player,e,t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dicearea"},r.a.createElement("div",{className:"dice-container"},r.a.createElement("div",{className:"dice1-container"},r.a.createElement("img",{id:"dice1",src:this.state.diceState.dice1,alt:""})),r.a.createElement("div",{className:"dice2-container"},r.a.createElement("img",{id:"dice2",src:this.state.diceState.dice2,alt:""}))),r.a.createElement("div",{className:"rollbtn-container"},r.a.createElement("button",{className:"rollbtn",onClick:this.rollDice},"Roll Dice")),r.a.createElement("div",{className:"current-playerName"},this.props.text,"'s turn"))}}]),t}(r.a.Component),D=(a(79),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-color-badge",style:{backgroundColor:"".concat(this.props.color||"gray")}}),r.a.createElement("h1",null,this.props.name),r.a.createElement("div",{className:"buyprice"},"Buy Price:\xa3 ",this.props.price||"N.A"),r.a.createElement("div",{className:"rent"},"Rent:\xa3",this.props.rent||"N.A"))}}]),t}(r.a.Component)),H=a(43),F=a.n(H),U=(a(80),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:(this.props.show?"back display-true":"back display-hide")+" "+this.props.className},r.a.createElement("div",{className:"modal"},r.a.createElement("img",{className:"close",hidden:this.props.hidden,src:F.a,onClick:this.props.handleClose,alt:""}),this.props.children))}}]),t}(r.a.Component)),J=(a(81),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).mortgageProperty=function(e){var t=e.target.getAttribute("propertyid");a.props.mortgage(t)},a.listProperties=a.listProperties.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"listProperties",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var s,l=this.props.properties[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var o=s.value;e.push(r.a.createElement("div",{key:o.id},r.a.createElement("li",null,r.a.createElement("div",{className:"propertyname"},o.name),r.a.createElement("button",{className:"mortgage-button",propertyId:o.id,onClick:this.mortgageProperty},"mortgage"),r.a.createElement("span",{className:"badge"},"\xa3",o.rent))))}}catch(i){a=!0,n=i}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return e}},{key:"render",value:function(){return r.a.createElement("div",{className:"player-container",style:{border:"".concat(this.props.currentPlayer?"2px solid "+this.props.playerColor:"1px solid gray")}},r.a.createElement("div",{className:"player-bar",style:{backgroundColor:this.props.playerColor}},r.a.createElement("div",{className:"player-name"},this.props.name),r.a.createElement("div",{className:"player-balance"},this.props.balance>0?"\xa3"+this.props.balance.toFixed(2):"Eliminated")),r.a.createElement("div",{className:"FixedHeightContainer"},r.a.createElement("div",{className:"player-property"},r.a.createElement("ul",{className:"list-group"},this.listProperties()))))}}]),t}(r.a.Component)),_=a(44),W=a.n(_),V=a(45),K=a.n(V),X=a(46),Q=a.n(X),q=a(47),z=a.n(q),$=a(48),Z=a.n($),ee=[{id:1,playersOnBlock:[0,1,2,3],type:"START"},{id:2,playersOnBlock:[],type:"PROPERTY",name:"OLD KENT ROAD",color:"brown",rent:120,cost:1200},{id:3,playersOnBlock:[],type:"COMMUNITY_CHEST"},{id:4,playersOnBlock:[],type:"PROPERTY",name:"WHITE CHAPEL ROAD",color:"brown",rent:163.8,cost:1638},{id:5,playersOnBlock:[],type:"INCOME_TAX"},{id:6,playersOnBlock:[],type:"PROPERTY",name:"KINGS CROSS STATION",color:"black",rent:128.4,cost:1284},{id:7,playersOnBlock:[],type:"PROPERTY",name:"THE ANGEL ISLINGTON ",color:"lightblue",rent:205.5,cost:2055},{id:8,playersOnBlock:[],type:"CHANCE"},{id:9,playersOnBlock:[],type:"PROPERTY",name:"EUSTON ROAD",color:"lightblue",rent:209.8,cost:2098},{id:10,playersOnBlock:[],type:"PROPERTY",name:"PENTONVILLE ROAD",color:"lightblue",rent:182.8,cost:1828},{id:11,playersOnBlock:[],type:"JAIL"},{id:12,playersOnBlock:[],type:"PROPERTY",name:"PAUL MALL",color:"pink",rent:530.2,cost:5302},{id:13,playersOnBlock:[],type:"PROPERTY",name:"ELECTRIC COMPANY",color:"black",onDiceRoll:!0,rent:100,cost:55},{id:14,playersOnBlock:[],type:"PROPERTY",name:"WHITEHALL",color:"pink",rent:249.8,cost:2498},{id:15,playersOnBlock:[],type:"PROPERTY",name:"NORTUMRL'D AVENUE",color:"pink",rent:165.9,cost:1659},{id:16,playersOnBlock:[],type:"PROPERTY",name:"MARYLEBONE STATION",color:"black",rent:128.4,cost:1284},{id:17,playersOnBlock:[],type:"PROPERTY",name:"BOW STREET",color:"orange",rent:713.4,cost:7134},{id:18,playersOnBlock:[],type:"COMMUNITY_CHEST"},{id:19,playersOnBlock:[],type:"PROPERTY",name:"MARLBOROUGH STREET",color:"orange",rent:255.4,cost:2554},{id:20,playersOnBlock:[],type:"PROPERTY",name:"VINE STREET",color:"orange",rent:399.5,cost:3995},{id:21,playersOnBlock:[],type:"FREE_PARKING"},{id:22,playersOnBlock:[],type:"PROPERTY",name:"STRAND",color:"red",rent:373.2,cost:3732},{id:23,playersOnBlock:[],type:"CHANCE"},{id:24,playersOnBlock:[],type:"PROPERTY",name:"FLEET STREET",color:"red",rent:237.8,cost:2378},{id:25,playersOnBlock:[],type:"PROPERTY",name:"TRAFALGAR SQUARE",color:"red",rent:269.2,cost:2692},{id:26,playersOnBlock:[],type:"PROPERTY",name:"FENCHURCH ST. STATION",color:"black",rent:128.4,cost:1284},{id:27,playersOnBlock:[],type:"PROPERTY",name:"LEICHESTER SQUARE",color:"yellow",rent:354.3,cost:3543},{id:28,playersOnBlock:[],type:"PROPERTY",name:"COVENTRY STREET",color:"yellow",rent:356.5,cost:3565},{id:29,playersOnBlock:[],type:"PROPERTY",name:"WATER WORKS",color:"black",onDiceRoll:!0,rent:100,cost:35},{id:30,playersOnBlock:[],type:"PROPERTY",name:"PICCADILLY",color:"yellow",rent:675.5,cost:6755},{id:31,playersOnBlock:[],type:"GO_TO_JAIL"},{id:32,playersOnBlock:[],type:"PROPERTY",name:"REGENT STREET",color:"green",rent:675.5,cost:6755},{id:33,playersOnBlock:[],type:"PROPERTY",name:"OXFORD STREET",color:"green",rent:415.8,cost:4158},{id:34,playersOnBlock:[],type:"COMMUNITY_CHEST"},{id:35,playersOnBlock:[],type:"PROPERTY",name:"BOND STREET",color:"green",rent:817.4,cost:8174},{id:36,playersOnBlock:[],type:"PROPERTY",name:"LIVERPOOL ST. STATION",color:"black",rent:128.4,cost:1284},{id:37,playersOnBlock:[],type:"CHANCE"},{id:38,playersOnBlock:[],type:"PROPERTY",name:"PARKLANE",color:"blue",rent:266.2,cost:2662},{id:39,playersOnBlock:[],type:"SUPER_TAX"},{id:40,playersOnBlock:[],type:"PROPERTY",name:"MAYFAIR",color:"blue",rent:513.9,cost:5139}],te=[{description:'Advance to "Go"',goToPosition:0,move:!0,buttonTag:"GO"},{description:"Go to Jail",goToPosition:10,move:!0,buttonTag:"GO"},{description:"Advance to Paul Mall",goToPosition:11,move:!0,buttonTag:"GO"},{description:"Take a trip to MarylBorne Station",goToPosition:15,move:!0,buttonTag:"GO"},{description:"Advance to Trafalgar Square",goToPosition:24,move:!0,buttonTag:"GO"},{description:"Advance to MayFair",goToPosition:39,move:!0,buttonTag:"GO"},{description:"Pay School Fees of 300 pounds",pay:300,buttonTag:"PAY"},{description:"your building loans Mature receive 300 pounds",get:300,buttonTag:"COLLECT"},{description:"You have won a crossword competition collect 200 pounds",get:200,buttonTag:"COLLECT"},{description:"bank pays you dividend of 1000 pounds",get:1e3,buttonTag:"COLLECT"}],ae=[{description:'Advance to "Go"',goToPosition:0,move:!0,buttonTag:"GO"},{description:'Go back to "Old Kent Road"',goToPosition:1,move:!0,buttonTag:"GO"},{description:"Go to Jail",goToPosition:10,move:!0,buttonTag:"GO"},{description:"Pay Doctor Fees of \xa350",pay:50,buttonTag:"PAY"},{description:"Pay Insurance Premium",pay:50,buttonTag:"PAY"},{description:"Pay \xa310 fine",pay:10,buttonTag:"PAY"},{description:"Bank error in your favour. Collect \xa3200",get:200,buttonTag:"COLLECT"},{description:"Annuity matures. Collect \xa3100",get:100,buttonTag:"COLLECT"},{description:"From sale of stock you get \xa350",get:50,buttonTag:"COLLECT"},{description:"Reveive interest on 7% preference shares: \xa325",get:25,buttonTag:"COLLECT"},{description:"Income tax refunt. Collect \xa320",get:20,buttonTag:"COLLECT"},{description:"Won second prize in beauty contest. Collect \xa310",get:10,buttonTag:"COLLECT"}],ne={newGameModelOpen:!1,playersModelOpen:!1,propBuyModalOpen:!1,chanceModalOpen:!1,communiyModelOpen:!1,winnerModalOpen:!1,gameIdModalOpen:!1,blocks:ee,currentChance:{},currentCommunity:{},currentBlock:{},currentPlayer:0,cardState:{color:"",name:"",rent:0,price:0},players:[{id:0,name:"Player 1",playerColor:"red",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0},{id:1,name:"Player 2",playerColor:"green",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0},{id:2,name:"Player 3",playerColor:"blue",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0},{id:3,name:"Player 4",playerColor:"yellow",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0}],playerNames:[{name:"Player1",color:"darkred"},{name:"Player2",color:"green"},{name:"Player3",color:"blue"},{name:"Player4",color:"black"}]},re=(a(82),a(83),"http://localhost:3000"),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).mortgage=function(e){var t=a.state.blocks,n=a.state.players,r=t[e-1],s=r.ownedBy;r.ownedBy=void 0;var l=T.a.findIndex(n,(function(e){return e.id==s}));console.log(e),console.log(o);var o=n[l];n[l].properties=T.a.filter(o.properties,(function(t){return console.log(t.id+"b "+e),t.id!=e}))},a.playerOnChange=function(e){var t=a.state,n=t.players,r=t.playerNames;n[e.target.name].name=e.target.value,r[e.target.name].name=e.target.value,ne.players[e.target.name].name=e.target.value,ne.playerNames[e.target.name].name=e.target.value,a.setState({players:n,playerNames:r})},a.startGame=function(){var e=Object(P.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.a.post(re+"/startNewGame",{state:ne,winner:null});case 3:n=e.sent,alert("Use game Id: "+n.data.gameId),localStorage.setItem("currentGameId",n.data.gameId),a.state.newGameModelOpen=!0,a.setState(ne),Object(g.b)("NEW GAME STARTED",{type:g.b.TYPE.SUCCESS}),console.log(a.state);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.openNewGameModal=function(){a.setState({newGameModelOpen:!0,winnerModalOpen:!1}),localStorage.removeItem("gameState")},a.onChange=function(e){a.setState({gameId:e.target.value})},a.resumeGame=function(){var e=Object(P.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==a.state.gameId){e.next=5;break}Object(g.b)("Enter a game ID.",{type:g.b.TYPE.ERROR}),e.next=10;break;case 5:return e.next=7,f.a.post(re+"/getGame",{gameId:a.state.gameId});case 7:n=e.sent,console.log(n),1==n.data.code?(a.setState(Object(b.a)({},n.data.data.state)),a.setState({gameIdModalOpen:!1}),Object(g.b)(n.data.data.gameId+" loaded",{type:g.b.TYPE.SUCCESS})):Object(g.b)(n.data.message,{type:g.b.TYPE.ERROR});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={newGameModelOpen:!0,gameIdModalOpen:!1,playersModelOpen:!1,propBuyModalOpen:!1,chanceModalOpen:!1,communiyModelOpen:!1,winnerModalOpen:!1,blocks:ee,currentChance:{},currentCommunity:{},currentBlock:{},currentPlayer:0,cardState:{color:"",name:"",rent:0,price:0},players:[{id:0,name:"Player 1",playerColor:"red",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0},{id:1,name:"Player 2",playerColor:"green",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0},{id:2,name:"Player 3",playerColor:"blue",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0},{id:3,name:"Player 4",playerColor:"yellow",position:0,balanceMoney:15e3,properties:[],rounds:0,steps:0}],playerNames:[{name:"Player1",color:"darkred"},{name:"Player2",color:"green"},{name:"Player3",color:"blue"},{name:"Player4",color:"#faf60a"}]},a.movePawn=a.movePawn.bind(Object(u.a)(a)),a.closeModal=a.closeModal.bind(Object(u.a)(a)),a.selectPawn=a.selectPawn.bind(Object(u.a)(a)),a.applyLogic=a.applyLogic.bind(Object(u.a)(a)),a.buyProperty=a.buyProperty.bind(Object(u.a)(a)),a.nextPlayer=a.nextPlayer.bind(Object(u.a)(a)),a.eliminatePlayer=a.eliminatePlayer.bind(Object(u.a)(a)),a.processChance=a.processChance.bind(Object(u.a)(a)),a.processCommunityChest=a.processCommunityChest.bind(Object(u.a)(a)),a.getPlayer=a.getPlayer.bind(Object(u.a)(a)),a.saveState=a.saveState.bind(Object(u.a)(a)),a.exitGame=a.exitGame.bind(Object(u.a)(a)),a.closeNewGameModal=a.closeNewGameModal.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.title="MONOPOLY";try{var e=JSON.parse(localStorage.gameState);this.setState(e),Object(g.b)("GAME "+localStorage.currentGameId+" LOADED",{type:g.b.TYPE.INFO}),console.log(this.state)}catch(t){console.log(t)}}},{key:"movePawn",value:function(e,t,a){var n=this.state.blocks,r=this.state.players,s=(r[e].position+t+a)%40;r[e].steps+=t+a,r[e].steps/40>r[e].rounds&&(r[e].rounds++,r[e].balanceMoney+=200),n[r[e].position].playersOnBlock=T.a.filter(n[r[e].position].playersOnBlock,(function(t){return t!==r[e].id})),n[s].playersOnBlock.push(r[e].id),r[e].position=s,this.setState({players:r,blocks:n,currentBlock:n[s],currentPlayer:e}),this.applyLogic(e,s)}},{key:"selectPawn",value:function(e){var t=this.state.blocks[e-1].playersOnBlock,a=[],n=[W.a,K.a,Q.a,z.a],s=!0,l=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value;a.push(r.a.createElement("img",{key:m,src:n[m],alt:""}))}}catch(p){l=!0,o=p}finally{try{s||null==c.return||c.return()}finally{if(l)throw o}}return a}},{key:"applyLogic",value:function(e,t){var a=this.state.players,n=this.state.blocks[t];if("PROPERTY"===n.type)if(void 0===n.ownedBy)this.setState({propBuyModalOpen:!0,cardState:{name:n.name,color:n.color,rent:n.rent||1e3,price:n.cost||3e3}});else{var r=a[e],s=T.a.findIndex(a,(function(e){return e.id===n.ownedBy})),l=a[s];r.balanceMoney-=n.rent,l.balanceMoney+=n.rent,Object(g.b)("rent of "+n.rent+" paid to "+l.name+" from "+r.name,{type:g.b.TYPE.INFO}),a[e].balanceMoney<=0?this.eliminatePlayer(e,a):this.nextPlayer(!1,e,a),a[e]=r,a[s]=l,this.setState({players:a}),console.log(this.state.players)}else if("JAIL"===n.type)a[e].balanceMoney-=500,Object(g.b)(a[e].name+" paid 500 for bail",{type:g.b.TYPE.INFO}),a[e].balanceMoney<=0?this.eliminatePlayer(e,a):this.nextPlayer(!1,e,a);else if("CHANCE"===n.type){var o=Math.floor(Math.random()*te.length),i=te[o];this.setState({modalName:"CHANCE CARD",chanceModalOpen:!0,currentChance:i})}else if("COMMUNITY_CHEST"===n.type){var c=Math.floor(Math.random()*te.length),m=ae[c];this.setState({modalName:"COMMUNITY CHEST CARD",communityModalOpen:!0,currentCommunity:m})}else if("INCOME_TAX"===n.type)a[e].balanceMoney-=493,Object(g.b)(a[e].name+" paid 493 as Income Tax",{type:g.b.TYPE.INFO}),a[e].balanceMoney<=0?this.eliminatePlayer(e,a):this.nextPlayer(!1,e,a);else if("SUPER_TAX"===n.type)a[e].balanceMoney-=2662,Object(g.b)(a[e].name+" paid 2662 as Super Tax",{type:g.b.TYPE.INFO}),a[e].balanceMoney<=0?this.eliminatePlayer(e,a):this.nextPlayer(!1,e,a);else if("GO_TO_JAIL"===n.type){var p=te[1];this.setState({modalName:"GO TO JAIL",chanceModalOpen:!0,currentChance:p})}else this.nextPlayer(!1,e,a)}},{key:"eliminatePlayer",value:function(){var e=Object(P.a)(O.a.mark((function e(t,a){var n,r,s,l,o,i,c,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.state.blocks,Object(g.b)(a[t].name+" is eliminated",{type:g.b.TYPE.ERROR}),r=T.a.map(a[t].properties,(function(e){return e.id})),s=!0,l=!1,o=void 0,e.prev=6,i=r[Symbol.iterator]();!(s=(c=i.next()).done);s=!0)m=c.value,n[m-1].ownedBy=void 0;e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),l=!0,o=e.t0;case 14:e.prev=14,e.prev=15,s||null==i.return||i.return();case 17:if(e.prev=17,!l){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:if(this.setState({blocks:n}),a.splice(t,1),1!==a.length){e.next=31;break}return this.setState({winnerModalOpen:!0}),this.setState({winner:a[0].name}),e.next=29,f.a.post(re+"/saveGame",{gameId:localStorage.currentGameId,state:this.state,winner:this.state.winner});case 29:e.sent,localStorage.setItem("gameState",JSON.stringify(this.state));case 31:this.nextPlayer(!0,t,a);case 32:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"nextPlayer",value:function(e,t,a){e?a.length-1===t?this.setState({currentPlayer:0,players:a}):this.setState({currentPlayer:t,players:a}):this.setState({currentPlayer:(t+1)%a.length,players:a})}},{key:"closeModal",value:function(){this.setState({propBuyModalOpen:!1}),this.nextPlayer(!1,this.state.currentPlayer,this.state.players)}},{key:"buyProperty",value:function(){var e=this.state.players,t=this.state.blocks,a=e[this.state.currentPlayer],n=a.balanceMoney,r=this.state.currentBlock;r.cost<n?(a.balanceMoney-=r.cost,a.properties.push(r),r.ownedBy=e[this.state.currentPlayer].id,Object(g.b)(a.name+" paid "+r.cost+" for "+r.name,{type:g.b.TYPE.INFO}),t[r.id-1]=r,e[this.state.currentPlayer]=a,this.setState({blocks:t,players:e}),this.closeModal()):(Object(g.b)("You do not have enough money.",{type:g.b.TYPE.WARNING}),this.closeModal()),this.nextPlayer(!1,this.state.currentPlayer,e)}},{key:"processChance",value:function(){if(this.setState({chanceModalOpen:!1}),this.state.currentChance.move){var e=this.state.currentChance.goToPosition,t=this.state.players[this.state.currentPlayer].position,a=0;a=e>t?e-t:40-t+e,this.movePawn(this.state.currentPlayer,a,0)}else{var n=this.state.currentPlayer,r=this.state.players;"PAY"===this.state.currentChance.buttonTag?(r[n].balanceMoney-=this.state.currentChance.pay,Object(g.b)(r[n].name+" paid "+this.state.currentChance.pay+" for CHANCE",{type:g.b.TYPE.INFO}),r[n].balanceMoney<=0?this.eliminatePlayer(n,r):this.nextPlayer(!1,n,r)):"COLLECT"===this.state.buttonTag?(r[n].balanceMoney+=this.state.currentChance.get,Object(g.b)(r[n].name+" collected "+this.state.currentChance.get+" from CHANCE",{type:g.b.TYPE.INFO})):this.nextPlayer(!1,n,r)}}},{key:"processCommunityChest",value:function(){if(this.setState({communityModalOpen:!1}),this.state.currentCommunity.move){var e=this.state.currentCommunity.goToPosition,t=this.state.players[this.state.currentPlayer].position,a=0;a=e>t?e-t:40-t+e,this.movePawn(this.state.currentPlayer,a,0)}else{var n=this.state.currentPlayer,r=this.state.players;"PAY"===this.state.currentCommunity.buttonTag?(r[n].balanceMoney-=this.state.currentCommunity.pay,Object(g.b)(r[n].name+" paid "+this.state.currentCommunity.pay+" for COMMUNITY CHEST",{type:g.b.TYPE.INFO}),r[n].balanceMoney<=0?this.eliminatePlayer(n,r):this.nextPlayer(!1,n,r)):"COLLECT"===this.state.currentCommunity.buttonTag?(r[n].balanceMoney+=this.state.currentCommunity.get,Object(g.b)(r[n].name+" collected "+this.state.currentCommunity.get+" from COMMUNITY CHEST",{type:g.b.TYPE.INFO})):this.nextPlayer(!1,n,r)}}},{key:"getPlayer",value:function(e){var t=this.state.players.find((function(t){return t.id===e}));return void 0!==t?{properties:t.properties,balance:t.balanceMoney}:{properties:[],balance:0}}},{key:"saveState",value:function(){var e=Object(P.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("gameState",JSON.stringify(this.state)),e.next=3,f.a.post(re+"/saveGame",{gameId:localStorage.currentGameId,state:this.state,winner:this.state.winner});case 3:e.sent,Object(g.b)("GAME SAVED SUCCESSFULLY",{type:g.b.TYPE.SUCCESS});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exitGame",value:function(){var e=Object(P.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to exit")){e.next=12;break}if(!window.confirm("do you want to save your game? ")){e.next=10;break}return localStorage.setItem("gameState",JSON.stringify(this.state)),e.next=7,f.a.post(re+"/saveGame",{gameId:localStorage.currentGameId,state:this.state,winner:this.state.winner});case 7:e.sent,e.next=11;break;case 10:localStorage.removeItem("gameState");case 11:this.setState({newGameModelOpen:!0});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"closeNewGameModal",value:function(e){switch(console.log(e.target.name),e.target.name){case"new":this.setState({newGameModelOpen:!1,playersModelOpen:!0});break;case"resume":this.setState({newGameModelOpen:!1,gameIdModalOpen:!0})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(U,{className:"login-container",hidden:!0,show:this.state.newGameModelOpen},r.a.createElement("h1",null,"Monopoly London"),r.a.createElement("button",{name:"resume",class:"newGameBtn",onClick:this.closeNewGameModal},"Resume Game"),r.a.createElement("button",{name:"new",onClick:this.closeNewGameModal,class:"loadGameBtn"},"New Game")),r.a.createElement(U,{className:"players-container",hidden:!0,show:this.state.playersModelOpen},r.a.createElement("h1",null,"Enter Player Details"),r.a.createElement("form",{method:"post",className:"players-form",onSubmit:this.startGame},r.a.createElement("input",{className:"player-red-field",onChange:this.playerOnChange,value:this.state.playerNames[0].name,type:"text",name:"0",placeholder:"Enter Red Player Name"}),r.a.createElement("br",null),r.a.createElement("input",{className:"player-green-field",onChange:this.playerOnChange,value:this.state.playerNames[1].name,type:"text",name:"1",placeholder:"Enter Green Player Name"}),r.a.createElement("br",null),r.a.createElement("input",{className:"player-blue-field",onChange:this.playerOnChange,value:this.state.playerNames[2].name,type:"text",name:"2",placeholder:"Enter Blue Player Name"}),r.a.createElement("br",null),r.a.createElement("input",{className:"player-yellow-field",onChange:this.playerOnChange,value:this.state.playerNames[3].name,type:"text",name:"3",placeholder:"Enter Yellow Player Name"}),r.a.createElement("br",null),r.a.createElement("input",{className:"startGameBtn",type:"submit",value:"Start Game"}))),r.a.createElement(U,{className:"players-container",hidden:!0,show:this.state.gameIdModalOpen},r.a.createElement("h1",null,"Enter gameID"),r.a.createElement("form",{method:"post",className:"players-form",onSubmit:this.resumeGame},r.a.createElement("input",{className:"gameId-field",onChange:this.onChange,value:this.state.gameID,type:"text",name:"0",placeholder:"Enter gameID"}),r.a.createElement("br",null),r.a.createElement("input",{className:"startGameBtn",type:"submit",value:"Start Game"}))),r.a.createElement(U,{show:this.state.propBuyModalOpen,handleClose:this.closeModal},r.a.createElement(D,{color:this.state.cardState.color,name:this.state.cardState.name,rent:this.state.cardState.rent,price:this.state.cardState.price}),r.a.createElement("div",{className:"buy-modal-right"},r.a.createElement("div",{className:"buybox",onClick:this.buyProperty},r.a.createElement("div",null,r.a.createElement("img",{src:Z.a,alt:""}),r.a.createElement("span",null,"BUY PROPERTY"))),r.a.createElement("div",{className:"pass",onClick:this.closeModal},"PASS"))),r.a.createElement(U,{className:"chance-modal",hidden:!0,show:this.state.chanceModalOpen},r.a.createElement("div",null,this.state.modalName),r.a.createElement("span",null,this.state.currentChance.description),r.a.createElement("button",{onClick:this.processChance},this.state.currentChance.buttonTag)),r.a.createElement(U,{className:"chance-modal",hidden:!0,show:this.state.communityModalOpen},r.a.createElement("div",null,this.state.modalName),r.a.createElement("span",null,this.state.currentCommunity.description),r.a.createElement("button",{onClick:this.processCommunityChest},this.state.currentCommunity.buttonTag)),r.a.createElement(U,{className:"winner-modal",show:this.state.winnerModalOpen,hidden:!0},r.a.createElement("h2",null,this.state.players[0].name," is the winner."),r.a.createElement("button",{onClick:this.openNewGameModal},"END GAME")),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"linetop blocks"},r.a.createElement("div",{id:"31",className:"corner"},this.selectPawn(31)),r.a.createElement("div",{id:"32"},this.selectPawn(32),"v"),r.a.createElement("div",{id:"33"},this.selectPawn(33)),r.a.createElement("div",{id:"34"},this.selectPawn(34)),r.a.createElement("div",{id:"35"},this.selectPawn(35)),r.a.createElement("div",{id:"36"},this.selectPawn(36)),r.a.createElement("div",{id:"37"},this.selectPawn(37)),r.a.createElement("div",{id:"38"},this.selectPawn(38)),r.a.createElement("div",{id:"39"},this.selectPawn(39)),r.a.createElement("div",{id:"40"},this.selectPawn(40)),r.a.createElement("div",{id:"1",className:"corner"},this.selectPawn(1))),r.a.createElement("div",{className:"lineleft blocks"},r.a.createElement("div",{className:"corner"}),r.a.createElement("div",{id:"30"},this.selectPawn(30)),r.a.createElement("div",{id:"29"},this.selectPawn(29)),r.a.createElement("div",{id:"28"},this.selectPawn(28)),r.a.createElement("div",{id:"27"},this.selectPawn(27)),r.a.createElement("div",{id:"26"},this.selectPawn(26)),r.a.createElement("div",{id:"25"},this.selectPawn(25)),r.a.createElement("div",{id:"24"},this.selectPawn(24)),r.a.createElement("div",{id:"23"},this.selectPawn(23)),r.a.createElement("div",{id:"22"},this.selectPawn(22)),r.a.createElement("div",{className:"corner"})),r.a.createElement("div",{className:"lineright lineleft blocks"},r.a.createElement("div",{className:"corner"}),r.a.createElement("div",{id:"2"},this.selectPawn(2)),r.a.createElement("div",{id:"3"},this.selectPawn(3)),r.a.createElement("div",{id:"4"},this.selectPawn(4)),r.a.createElement("div",{id:"5"},this.selectPawn(5)),r.a.createElement("div",{id:"6"},this.selectPawn(6)),r.a.createElement("div",{id:"7"},this.selectPawn(7)),r.a.createElement("div",{id:"8"},this.selectPawn(8)),r.a.createElement("div",{id:"9"},this.selectPawn(9)),r.a.createElement("div",{id:"10"},this.selectPawn(10)),r.a.createElement("div",{className:"corner"})),r.a.createElement("div",{className:"linetop blocks"},r.a.createElement("div",{id:"21",className:"corner"},this.selectPawn(21)),r.a.createElement("div",{id:"20"},this.selectPawn(20)),r.a.createElement("div",{id:"19"},this.selectPawn(19)),r.a.createElement("div",{id:"18"},this.selectPawn(18)),r.a.createElement("div",{id:"17"},this.selectPawn(17)),r.a.createElement("div",{id:"16"},this.selectPawn(16)),r.a.createElement("div",{id:"15"},this.selectPawn(15)),r.a.createElement("div",{id:"14"},this.selectPawn(14)),r.a.createElement("div",{id:"13"},this.selectPawn(13)),r.a.createElement("div",{id:"12"},this.selectPawn(12)),r.a.createElement("div",{id:"11",className:"corner"},this.selectPawn(11)))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"appbar"},r.a.createElement("button",{onClick:this.saveState,className:"appbtn"},"Save Game"),r.a.createElement("button",{onClick:this.exitGame,className:"appbtn"},"Exit Game")),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"player-row1"},r.a.createElement(J,{playerColor:this.state.playerNames[0].color,currentPlayer:0===this.state.players[this.state.currentPlayer].id,properties:this.getPlayer(0).properties,name:this.state.playerNames[0].name,balance:this.getPlayer(0).balance,mortgage:this.mortgage}),r.a.createElement(J,{playerColor:this.state.playerNames[1].color,currentPlayer:1===this.state.players[this.state.currentPlayer].id,properties:this.getPlayer(1).properties,name:this.state.playerNames[1].name,balance:this.getPlayer(1).balance,mortgage:this.mortgage})),r.a.createElement("div",{className:"player-row2"},r.a.createElement(J,{playerColor:this.state.playerNames[2].color,currentPlayer:2===this.state.players[this.state.currentPlayer].id,properties:this.getPlayer(2).properties,name:this.state.playerNames[2].name,balance:this.getPlayer(2).balance,mortgage:this.mortgage}),r.a.createElement(J,{playerColor:this.state.playerNames[3].color,currentPlayer:3===this.state.players[this.state.currentPlayer].id,properties:this.getPlayer(3).properties,name:this.state.playerNames[3].name,balance:this.getPlayer(3).balance,mortgage:this.mortgage}))),r.a.createElement(L,{movePawn:this.movePawn,player:this.state.currentPlayer,text:this.state.players[this.state.currentPlayer].name})))}}]),t}(r.a.Component),le=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/login",component:h}),r.a.createElement(y.a,{exact:!0,path:"/",component:se})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.85244f77.chunk.js.map